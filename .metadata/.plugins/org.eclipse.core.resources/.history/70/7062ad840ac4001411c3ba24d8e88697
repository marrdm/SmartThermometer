/*
===============================================================================
 Name        : Software.c
 Author      : $(author)
 Version     :
 Copyright   : $(copyright)
 Description : main definition
===============================================================================
*/

#include "Software.h"

// TODO: insert other include files here

// TODO: insert other definitions and declarations here

int main(void) {

    // TODO: insert code here

	LPC_TMR_TypeDef timer = LPC_TMR32B1;

	LPC_SYSCON->SYSAHBCLKCTRL |= (1<<9);		//Power up tmr0
	LPC_IOCON->R_PIO1_1 = 3;

	timer->PR = 28;//prescale;
	timer->MCR |= (1<<10);
	timer->MR3 = 255;
	timer->MR0 = 128;

	timer->PWMC = 1;

	timer->TCR = 0x2;		//Reset timer
	timer->TCR = 0x1;		//Start timer


    // Force the counter to be placed into memory
    volatile static int i = 0 ;
    // Enter an infinite loop, just incrementing a counter
    while(1) {
        i++ ;
    }
    return 0 ;
}
